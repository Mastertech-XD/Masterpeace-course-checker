<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Checker</title>
    <style>
        body {
            background: url('background.jpg') no-repeat center center fixed;
            background-size: cover;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        h1 {
            color: yellow;
            font-size: 2em;
        }
        p {
            color: red;
        }
        .menu-button, .grade-button {
            display: block;
            width: 80%;
            padding: 15px;
            margin: 10px auto;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        .degree { background-color: cyan; }
        .diploma { background-color: blue; color: white; }
        .certificate { background-color: red; color: white; }
        .kmtc { background-color: darkgreen; color: white; }
        .container, .grade-selector {
            display: none;
            margin: 20px auto;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
        }
        .grade-options button {
            width: 60px;
            margin: 5px;
            padding: 10px;
            font-size: 1em;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>The CourseChecker</h1>
    <p>Your Gateway to University Success!</p>
    <button class="menu-button degree" onclick="showForm('Degree')">Degree</button>
    <button class="menu-button diploma" onclick="showForm('Diploma')">Diploma</button>
    <button class="menu-button certificate" onclick="showForm('Certificate')">Certificate</button>
    <button class="menu-button kmtc" onclick="showForm('KMTC')">KMTC</button><div class="container" id="formContainer">
    <h2 id="formTitle">Check Your Qualification</h2>
    <p>Select your KCSE grades:</p>
    <div class="grade-options">
        <button onclick="showGradeSelector('math')">Math</button>
        <button onclick="showGradeSelector('eng')">English</button>
        <button onclick="showGradeSelector('kis')">Kiswahili</button>
        <button onclick="showGradeSelector('sci')">Science</button>
        <button onclick="showGradeSelector('hum')">Humanities</button>
    </div>
    <button onclick="checkQualification()">Check</button>
    <div id="results"></div>
</div>

<div class="grade-selector" id="gradeSelector">
    <h3>Select Grade for <span id="subjectName"></span></h3>
    <div class="grade-options">
        <button onclick="setGrade('A')">A</button>
        <button onclick="setGrade('A-')">A-</button>
        <button onclick="setGrade('B+')">B+</button>
        <button onclick="setGrade('B')">B</button>
        <button onclick="setGrade('B-')">B-</button>
        <button onclick="setGrade('C+')">C+</button>
        <button onclick="setGrade('C')">C</button>
        <button onclick="setGrade('C-')">C-</button>
        <button onclick="setGrade('D+')">D+</button>
        <button onclick="setGrade('D')">D</button>
        <button onclick="setGrade('D-')">D-</button>
        <button onclick="setGrade('E')">E</button>
    </div>
</div>

<script>
    let selectedSubject = "";
    const grades = {};
    function showForm(type) {
        document.getElementById("formContainer").style.display = "block";
        document.getElementById("formTitle").innerText = `Check Your Qualification for ${type}`;
    }
    function showGradeSelector(subject) {
        selectedSubject = subject;
        document.getElementById("subjectName").innerText = subject.toUpperCase();
        document.getElementById("gradeSelector").style.display = "block";
    }
    function setGrade(grade) {
        grades[selectedSubject] = grade;
        document.getElementById("gradeSelector").style.display = "none";
        if (Object.keys(grades).length === 5) {
            document.getElementById("formContainer").style.display = "none";
        }
    }
    async function checkQualification() {
        if (Object.keys(grades).length < 5) {
            alert("Please select all grades before proceeding.");
            return;
        }
        const data = { grades, clusters: ["Cluster1", "Cluster2", "Cluster3", "Cluster4"] };
        const response = await fetch("/check_qualification", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });
        const result = await response.json();
        document.getElementById("results").innerHTML = `<p>Your Cluster Points: ${result.userClusterPoints}</p><ul>${result.qualifiedCourses.map(c => `<li>${c.name}</li>`).join('')}</ul>`;
    }
</script>

<footer>
    <p>&copy; 2025 All rights reserved.<br>Designed by Sir Masterpeace</p>
</footer>

</body>
</html>
